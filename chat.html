<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" href="https://raw.githubusercontent.com/LuckyAura/MisaCasino/main/GoldenLogo.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talk to Misa!</title>
    <style>
         body {
            background-color: #36393F;
            font-family: Arial, sans-serif;
        }
        .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 30px;
    }

    .bot-image {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        border: 5px solid #FFD700;
    }

    .chat-container {
            margin-top: 30px;
            width: 80%;
            background-color: #2C2F33;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        .chat-area {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
            border-bottom: 1px solid #424549;
            margin-bottom: 10px;
        }
        .chat-message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        .user-message {
            background-color: #7289DA;
            color: white;
            text-align: right;
        }
        .bot-message {
            background-color: #d4af37;
            color: white;
        }
        .input-area {
            display: flex;
            justify-content: space-between;
        }
        .input-area input {
            width: 85%;
            padding: 10px;
            border-radius: 5px;
            border: none;
        }
        .input-area button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #7289DA;
            color: white;
            cursor: pointer;
        }


        .hamburger-menu {
    position: absolute;
    top: 20px;
    left: 20px; /* Change 'right' to 'left' to move it to the top left */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    width: 31.5px; /* Increase the width by 5% */
    height: 21px; /* Increase the height by 5% */
    cursor: pointer;
}

.hamburger-menu span {
    background-color: white;
    height: 4.2px; /* Increase the height by 5% */
    border-radius: 2px;
}


.nav-menu {
    display: none;
    position: absolute;
    top: 60px;
    left: 20px; /* Change 'right' to 'left' to move it to the top left */
    background-color: #2C2F33;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    z-index: 1;
}


    .nav-menu.active {
        display: block;
    }

    .nav-menu ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .nav-menu li {
        padding: 10px 20px;
        border-bottom: 1px solid #424549;
    }

    .nav-menu li:last-child {
        border-bottom: none;
    }

    .nav-menu a {
        color: white;
        text-decoration: none;
    }

    .nav-menu a:hover {
        color: #FFD700;
    }
.background-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://raw.githubusercontent.com/LuckyAura/MisaCasino/main/webBg.png');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center center;
    opacity: 0.3;
    z-index: -1;
}
  .discord-button {
    font-size: 18px;
    padding: 10px 20px;
    background-color: #7289da;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    position: absolute;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

</style>
<script>
    var ongoingGames = {};
    const cardSetDict = {
  '8k6kz3T': {name:'Starfire', series: 'Teen Titans'},
  '9x74tsn': {name: 'Raven', series: 'Teen Titans'},
  's8GyKjJ': {name: 'Robin', series: 'Teen Titans'},
  'DPVYVPm': {name: 'Harley Quinn', series: 'DC Comics'},
'NQ54SkK': {name: 'Super Mario', series: 'Super Mario'},
'aDlTehS': {name: 'Luigi Mario', series: 'Super Mario'},
'Xdchn1j': {name: 'Bowser', series: 'Super Mario'},
'jtl57zv': {name: 'Super Sonico', series: 'Super Sonico'},
'AvBmGMF': {name: 'Hatsune Miku', series: 'Vocaloid'},
'jtyypWv': {name: 'Ankha', series: 'Animal Crossing'},
'GJq8BAe': {name: 'Jake the Dog', series: 'Adventure Time'},
'7VUsHeo': {name: 'Finn the Human', series: 'Adventure Time'},
'G6LV0CD': {name: 'Sokka', series: 'Avatar: The Last Airbender'},
'JoXGDrC': {name: 'Katara', series: 'Avatar: The Last Airbender'},
'u9DUY5J': {name: 'Loona', series: 'Helluva Boss'},
'IHdno42': {name: 'Blitzo', series: 'Helluva Boss'},
'aB56JdL': {name: 'Millie', series: 'Helluva Boss'},
'1EU0kCC': {name: 'Moxxie', series: 'Helluva Boss'},
'kCm2Alc': {name: 'Stolas', series: 'Helluva Boss'},
'25MVYM9': {name: 'Chocola (Nekopara)', series: 'Nekopara'},
'LmOrtpl': {name: 'Cinnamon (Nekopara)', series: 'Nekopara'},
'VaE9ySU': {name: 'Vanilla (Nekopara)', series: 'Nekopara'},
'Mtd516C': {name: 'Coconut (Nekopara)', series: 'Nekopara'},
'D5QisnR': {name: 'Maple (Nekopara)', series: 'Nekopara'},
'XlLl45a': {name: 'Azuki (Nekopara)', series: 'Nekopara'},
'dsnWQIy': {name: 'Shigure Minazuki', series: 'Nekopara'},
'VSjDPgM': {name: 'Bluey', series: 'Bluey'},
'zYsarXi': {name: 'Lilith (Diablo)', series: 'Diablo'},
'MYu3YOk': {name: 'Valkia (Warhammer)', series: 'Warhammer'},
'XVQtYj7': {name: 'Monkey D. Luffy', series: 'One Piece'},
'Rt1aoTc': {name: 'Beast Boy', series: 'Teen Titans'},
'BQ4o0tA': {name: 'Cyborg', series: 'Teen Titans'},
'm0iOMu6': {name: 'Misty (Pokemon)', series: 'Pokemon'},
'OiXtmKe': {name: 'Dawn (Pokemon)', series: 'Pokemon'},
'XZoNV5y': {name: '2B', series: 'NieR:Automata'},
'4fyMuVU': {name: '9S', series: 'NieR:Automata'},
'hPoTrok': {name: 'Donkey Kong', series: 'Donkey Kong'},
'NrkGymP': {name: 'Spongebob Squarepants', series: 'SpongeBob SquarePants'},
'Q0CkRkQ': {name: 'Team Rocket Jessie', series: 'Pokemon'},
'jxTUd6y': {name: 'Team Rocket James', series: 'Pokemon'},
'0cxVaay': {name: 'Team Rocket Meowth', series: 'Pokemon'},
'rOBJDDA': {name: 'Patrick Star', series: 'SpongeBob SquarePants'},
'yZU8FSc': {name: 'Sandy Cheeks', series: 'SpongeBob SquarePants'},
'zBON2tU': {name: 'Eugene Krabs', series: 'SpongeBob SquarePants'},
'eiU3AjA': {name: 'Pearl Krabs', series: 'SpongeBob SquarePants'},
'esDiJpY': {name: 'Elizabeth (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'x61qZ6D': {name: 'Ban (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'sxJiECr': {name: 'Diane (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'yKniTMC': {name: 'Meliodas (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'lKjuKJH': {name: 'Merlin (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'V3x85Jq': {name: 'King (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'7DF6ROl': {name: 'Guila (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'I141Zzi': {name: 'Howzer (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'kC1pl8U': {name: 'Gowther (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'dtYrcuB': {name: 'Escanor (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'6Tm31MX': {name: 'Melascula (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'WWYANjL': {name: 'Sheldon J. Plankton', series: 'SpongeBob SquarePants'},
'Z4xSRbB': {name: 'Azula', series: 'Avatar: The Last Airbender'},
'gPK2JcJ': {name: 'Coraline', series: 'Coraline'},
'AHeCIZ3': {name: 'Kagome Higurashi', series: 'Inuyasha'},
'Mc4qY7q': {name: 'Satoru Gojo', series: 'Jujutsu Kaisen'},
'DjxgJT8': {name: 'Galand (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'ieCu6Tw': {name: 'Zeldris (Seven Deadly Sins)', series: 'The Seven Deadly Sins'},
'3tr9onB': {name: 'Yukiteru Amano', series: 'Future Diary'},
'XU9xDMz': {name: 'Takao Hiyama (Third)', series: 'Future Diary'},
'bUcLQNZ': {name: 'Keigo Kurusu (Fourth)', series: 'Future Diary'},
'15erWXT': {name: 'Reisuke Houjou (Fifth)', series: 'Future Diary'},
'7ASlsJp': {name: 'Tsubaki Kasugano (Sixth)', series: 'Future Diary'},
'7fzhxiF': {name: 'Marco Ikusaba (Seventh)', series: 'Future Diary'},
'XEgzeIY': {name: 'Ai Mikami (Seventh)', series: 'Future Diary'},
'8Pk8XCq': {name: 'Kamado Ueshita (Eighth)', series: 'Future Diary'},
'Na3lstN': {name: 'Uryuu Minene (Ninth)', series: 'Future Diary'},
'zgbkTFq': {name: 'Karyuudo Tsukishima (Tenth)', series: 'Future Diary'},
'lJMFUJb': {name: 'Hinata Hino', series: 'Future Diary'},
'm74nVJz': {name: 'John Bacchus (Eleventh)', series: 'Future Diary'},
'L2hOk1H': {name: 'Yomatsu Hirasaka (Twelfth)', series: 'Future Diary'},
'5I3qhx3': {name: 'Deus Ex Machina', series: 'Future Diary'},
'BrdneD0': {name: 'Mur Mur', series: 'Future Diary'},
'TFubNmN': {name: 'Courage', series: 'Courage the Cowardly Dog'},
'NjWoStC': {name: 'Princess Zelda', series: 'The Legend of Zelda'},
'VrgSpGv': {name: 'Danny Fenton (Danny Phantom)', series: 'Danny Phantom'},
'Uy4RmDj': {name: 'Cicero (Skyrim)', series: 'The Elder Scrolls V: Skyrim'},
'YKbZwn9': {name: 'Powder (Arcane)', series: 'Arcane'},
'poRMjiw': {name: 'Burnbot (Brain Dump)', series: 'Brain Dump'},
'XuJ0lcG': {name: 'Tezcatlipoca', series: 'Aztec Mythology'},
'YV1ybqP': {name: 'Satan (Adventures of Mark Twain)', series: 'The Adventures of Mark Twain'},
'akzPqHQ': {name: 'Jenny Wakeman', series: 'My Life as a Teenage Robot'},
'ZSXogTl': {name: 'Wednesday Addams', series: 'The Addams Family'},
'GQlL1kj': {name: 'Hamantha', series: 'Hamantha'},
'gBKaRMJ': {name: 'Data (Star Trek)', series: 'Star Trek: The Next Generation'},
'mbTggdb': {name: 'Rath (Ben 10)', series: 'Ben 10'},
'rbym9IR': {name: 'Ed (Ed, Edd n Eddy)', series: 'Ed, Edd n Eddy'},
'1PoLpue': {name: 'Edd (Ed, Edd n Eddy)', series: 'Ed, Edd n Eddy'},
'MBxHllp': {name: 'Eddy (Ed, Edd n Eddy)', series: 'Ed, Edd n Eddy'},
'ppcpwKK': {name: 'Sakuya Izayoi', series: 'Touhou Project'},
'f0ShaEq': {name: 'Oprah Winfrey', series: 'The Oprah Winfrey Show'},
'KGUiFSm': {name: 'Pennywise', series: 'It'},
'nCgT3JH': {name: 'Michael Myers', series: 'Halloween'},
'xaODyY6': {name: 'Marisa Kirisame', series: 'Touhou Project'},
'hqR4dzk': {name: 'Koishi Komeiji', series: 'Touhou Project'},
'MLRDNEU': {name: 'Kira (Misa Casino Developer)', series: 'Misa Casino'},
'oyhygJN': {name: 'Flandre Scarlet', series: 'Touhou Project'},
'42kn2jE': {name: 'Michael Stevens (Vsauce)', series: 'Vsauce'},
'MMRaEci': {name: "Crying Child (Five Nights At Freddy's)", series: "Five Nights at Freddy's"},
'wCBjq0f': {name: 'Izo (One Piece)', series: 'One Piece'},
'NNBZlH1': {name: 'Elderbug (Hollow Knight)', series: 'Hollow Knight'},
'YTGMHFg': {name: 'She-Hulk (Jennifer Walters)', series: 'Marvel Comics'},
'qXKfJ5O': {name: 'Snow White', series: 'Snow White and the Seven Dwarfs'},
'vHmXbOV': {name: 'Lucifer (Helltaker)', series: 'Helltaker'},
'14t5UHa': {name: 'Modeus (Helltaker)', series: 'Helltaker'},
'mpgTiPt': {name: 'Beelzebub (Helltaker)', series: 'Helltaker'},
'Ccv95ZT': {name: 'Azazel (Helltaker)', series: 'Helltaker'},
'LL1gMGI': {name: 'Cerberus (Helltaker)', series: 'Helltaker'},
'K7MWCgY': {name: 'Helltaker', series: 'Helltaker'},
'wmrZaEZ': {name: 'Justice (Helltaker)', series: 'Helltaker'},
'HyEEHyE': {name: 'Malina (Helltaker)', series: 'Helltaker'},
'xIG8q8M': {name: 'Pandemonica (Helltaker)', series: 'Helltaker'},
'M6Kh8mZ': {name: 'Subject 67 (Helltaker)', series: 'Helltaker'},
'F8xDriK': {name: 'Zdrada (Helltaker)', series: 'Helltaker'},
'HPnAK8r': {name: 'Judgement (Helltaker)', series: 'Helltaker'},
'thXtriV': {name: '343 Guilty Spark', series: 'Halo'},
'8MoIIbD': {name: 'Master Chief', series: 'Halo'},
'6Em1SaK': {name: 'Cortana (Halo)', series: 'Halo'},
'YyM1hYr': {name: 'Sergeant Johnson', series: 'Halo'},
'auJDO2m': {name: 'Chips Dubbo', series: 'Halo'},
'gS1DChM': {name: 'Arbiter (Warcraft)', series: 'World of Warcraft'},
'FvGD1p0': {name: 'The Arbiter', series: 'Halo'},
'oPKM7Mh': {name: 'Miranda Keyes', series: 'Halo'},
'iuI33Tk': {name: 'Tartarus', series: 'Halo'},
'YkVR4Ip': {name: 'Shipmaster (Halo)', series: 'Halo'},
'AGpkBIR': {name: 'The Rookie', series: 'Halo'},
'EI5s04v': {name: 'Veronica Dare', series: 'Halo'},
'kCPpWrC': {name: 'Taylor Miles', series: 'Halo'},
'i5KxPee': {name: 'Michael Crespo', series: 'Halo'},
'ZKumWSJ': {name: 'Kojo Agu', series: 'Halo'},
'Y3Dw821': {name: 'Ponyo', series: 'Ponyo'},
'DcEy3Pm': {name: 'Motoko Kusanagi', series: 'Ghost in the Shell'},
'8L6noAJ': {name: 'Pazu (Ghost in the Shell)', series: 'Ghost in the Shell'},
'W5hb0d8': {name: 'Project 2501', series: 'Ghost in the Shell'},
'bldxYRq': {name: 'Edward Buck', series: 'Halo'},
'YcY06A0': {name: 'Aoi (Ghost in the Shell)', series: 'Ghost in the Shell'},
'ejVbMWT': {name: 'Olympia Vale', series: 'Halo'},
'tbDWZmJ': {name: 'Batou (Ghost in the Shell)', series: 'Ghost in the Shell'},
'J0zq8CY': {name: "Batou's Tachikoma", series: 'Ghost in the Shell'},
'NIuxaeN': {name: 'Borma (Ghost in the Shell)', series: 'Ghost in the Shell'},
'3hFxnK0': {name: 'Daisuke Aramaki', series: 'Ghost in the Shell'},
'xj947ub': {name: 'Hideo Kuze', series: 'Ghost in the Shell'},
'0Z8NwpI': {name: 'Ishikawa (Ghost in the Shell)', series: 'Ghost in the Shell'},
'8afrttP': {name: 'Kazundo Gouda', series: 'Ghost in the Shell'},
'tyoAJfW': {name: 'Proto (Ghost in the Shell)', series: 'Ghost in the Shell'},
'jrhPJUy': {name: 'Ballerina Twin (Atomic Heart)', series: 'Atomic Heart'},
'iRTqasR': {name: 'Agent Venom (Flash Thompson)', series: 'Marvel Comics'},
'kg053TV': {name: 'Alligator Loki (Loki Laufeyson)', series: 'Marvel Comics'},
'TqJ6Y1w': {name: 'Shinobu Kochou', series: 'Demon Slayer'},
'ehwrA3R': {name: 'Albedo', series: 'Overlord'},
'kRzmZ4J': {name: 'Saber', series: 'Fate Series'},
'1yQmNQ6': {name: 'Hange ZoÃ«', series: 'Attack on Titan'},
'7RVx8Er': {name: 'Ant-Man (Scott Lang)', series: 'Marvel Comics'},
'v4t2scC': {name: 'Anti-Venom', series: 'Marvel Comics'},
'wKwD456': {name: 'Arachknight (Peter Parker)', series: 'Marvel Comics'},
'ri11c0b': {name: 'Aunt May', series: 'Marvel Comics'},
'slEnHrM': {name: 'Black Panther (Ngozi)', series: 'Marvel Comics'},
'sSQw9pS': {name: "Black Panther (T'Challa)", series: 'Marvel Comics'},
'hkiX3hR': {name: 'Black Widow (Natalia Romanova)', series: 'Marvel Comics'},
'N2UZ6vh': {name: 'Blizzard (Donnie Gill)', series: 'Marvel Comics'},
'EyjgVmD': {name: 'Black Cat (Felicia Hardy)', series: 'Marvel Comics'},
'QbrNUz7': {name: 'Bruce Banner', series: 'Marvel Comics'},
'Nk7qU7K': {name: 'Captain America (Steve Rogers)', series: 'Marvel Comics'},
'Svcj2zU': {name: 'Cyclops (Scott Summers)', series: 'Marvel Comics'},
'kvzqbdD': {name: 'Cosmic Ghost Rider (Frank Castle)', series: 'Marvel Comics'},
'k74Hmzb': {name: 'Halle Lidner', series: 'Death Note'},
'BEe3kYB': {name: 'Kiyomi Takada', series: 'Death Note'},
'JVRAvpo': {name: 'Kyosuke Higuchi', series: 'Death Note'},
'3JaHrOg': {name: 'Matt (Death Note)', series: 'Death Note'},
'qPt94Gk': {name: 'Mello', series: 'Death Note'},
'3C3QX0D': {name: 'Naomi Misora', series: 'Death Note'},
'keFM0RP': {name: 'Near', series: 'Death Note'},
'0zksXD8': {name: 'Raye Penber', series: 'Death Note'},
'rF85AMu': {name: 'Reiji Namikawa', series: 'Death Note'},
'7PJvR2z': {name: 'Rem (Death Note)', series: 'Death Note'},
'EpZGuV6': {name: 'Ryuk', series: 'Death Note'},
'k4GqR2S': {name: 'Sachiko Yagami', series: 'Death Note'},
'0YxPGKC': {name: 'Sayu Yagami', series: 'Death Note'},
'PGjuEtB': {name: 'Soichiro Yagami', series: 'Death Note'},
'Ma0BsAh': {name: 'Shuichi Aizawa', series: 'Death Note'},
'0legRvk': {name: 'Sidoh', series: 'Death Note'},
'gHUyNdm': {name: 'Stephen Gevanni', series: 'Death Note'},
'6Yth0XT': {name: 'Teru Mikami', series: 'Death Note'},
'UsuwBI6': {name: 'Touta Matsuda', series: 'Death Note'},
'lqNxZES': {name: 'Watari', series: 'Death Note'},
'iMkFUGt': {name: 'Absalom', series: 'One Piece'},
'o1IaMd9': {name: 'Ahiru (One Piece)', series: 'One Piece'},
'4Dj5I5b': {name: 'Akainu (One Piece)', series: 'One Piece'},
'cJy3NOS': {name: 'Entrapta', series: 'She-Ra & the Princesses of Power'},
'Ea4U0Z1': {name: 'Adora', series: 'She-Ra & the Princesses of Power'},
'PCP3AsG': {name: 'Bow', series: 'She-Ra & the Princesses of Power'},
'DKtYaxz': {name: 'Castaspella', series: 'She-Ra & the Princesses of Power'},
'DKWZykB': {name: 'Catra', series: 'She-Ra & the Princesses of Power'},
'fxD3mVZ': {name: 'Double Trouble', series: 'She-Ra & the Princesses of Power'},
'AhjwyPm': {name: 'Emily (S&PoP)', series: 'She-Ra & the Princesses of Power'},
'E3ENqjb': {name: 'Frosta', series: 'She-Ra & the Princesses of Power'},
'rC7qsBR': {name: 'George (S&PoP)', series: 'She-Ra & the Princesses of Power'},
'ij2Cl1D': {name: 'Glimmer', series: 'She-Ra & the Princesses of Power'},
'4MUB2pi': {name: 'Hordak', series: 'She-Ra & the Princesses of Power'},
'gP5eaZY': {name: 'Horde Prime', series: 'She-Ra & the Princesses of Power'},
'Fr6O01L': {name: 'Huntara', series: 'She-Ra & the Princesses of Power'},
'd3QcAld': {name: 'Adult King Micah', series: 'She-Ra & the Princesses of Power'},
'vMNlaGQ': {name: 'Kyle (S&PoP)', series: 'She-Ra & the Princesses of Power'},
'5Qe7OAZ': {name: 'Cassidy', series: 'Pokemon'},
'd8xARtQ': {name: 'Butch', series: 'Pokemon'},
'194VsOF': {name: 'Ash Ketchum', series: 'Pokemon'},
'wHPQdw1': {name: 'Bulbasaur', series: 'Pokemon'},
'OkNDNoN': {name: 'Squirtle', series: 'Pokemon'},
'tY1Splj': {name: 'Charmander', series: 'Pokemon'},
'c4MCNN5': {name: 'Delia Ketchum', series: 'Pokemon'},
'oRC2OP6': {name: 'Duplica', series: 'Pokemon'},
'qpu1Rjo': {name: 'Gary Oak', series: 'Pokemon'},
'o3wdoza': {name: 'Professor Oak', series: 'Pokemon'},
'NBMJCVu': {name: 'Giselle (Pokemon)', series: 'Pokemon'},
'0UV9O0J': {name: 'Nurse Joy', series: 'Pokemon'},
'WWMX3xV': {name: 'Officer Jenny', series: 'Pokemon'},
'U6ZgtxN': {name: 'Pete Pebbleman', series: 'Pokemon'},
'61sjMQX': {name: 'Jessie\'s Arbok', series: 'Pokemon'},
'wRbIT35': {name: 'Misty\'s Psyduck', series: 'Pokemon'},
'kKuJD5S': {name: 'Misty\'s Togetic', series: 'Pokemon'},
'OVAEG2W': {name: 'Misty\'s Togepi', series: 'Pokemon'},
'sZWZuob': {name: 'Ash\'s Pikachu', series: 'Pokemon'},
'NLh1EQI': {name: 'The Maiden', series: 'Pokemon'},
'kQt4Mkv': {name: 'Tommy (Pokemon)', series: 'Pokemon'},
'vfwJkQw': {name: 'Tommy\'s Father', series: 'Pokemon'},
'3nEtbMj': {name: 'Brock', series: 'Pokemon'},
'lw4JvIv': {name: 'Courtney (Pokemon)', series: 'Pokemon'},
'T1mLcWo': {name: 'Cynthia', series: 'Pokemon'},
'LGVVuNv': {name: 'Cynthia\'s Garchomp', series: 'Pokemon'},
'ID7hzHu': {name: 'Zero Two (002)', series: 'Darling in the FranXX'},
'RZTEq6Q': {name: 'Misa Amane', series: 'Death Note'},
'zS3wJZF': {name: 'BMO', series: 'Adventure Time'},
'jHAsVS6': {name: 'Jack Skellington', series: 'Nightmare Before Christmas'},
'4NBJosE': {name: 'Yuno Gasai', series: 'Future Diary'},
'GnbEjew': {name: 'No-Face (Kaonashi)', series: 'Spirited Away'},
'zFzpTfH': {name: 'Hori Kyouko', series: 'Horimiya'},
'gCo4fL9': {name: 'Revy (Rebecca Lee)', series: 'Black Lagoon'},
'TgTlyYo': {name: 'Light Yagami (Kira)', series: 'Death Note'},
'X8u6WKx': {name: 'L (Lawliet)', series: 'Death Note'},
'oTyKaZ9': {name: 'Yor Forger', series: 'SPY x FAMILY'},
'ovQrdT7': {name: 'Inuyasha', series: 'InuYasha'},
'ddK1obR': {name: 'Aang', series: 'Avatar: The Last Airbender'},
'nHUdLhF': {name: 'Cirno', series: 'Touhou Project'},
'bZ2LZET': {name: 'Amethyst', series: 'Steven Universe'},
'7aRFpXt': {name: 'Bismuth', series: 'Steven Universe'},
'36t0vpk': {name: 'Blue Diamond', series: 'Steven Universe'},
'yoWRZ1M': {name: 'Blue Pearl', series: 'Steven Universe'},
'JibtQAM': {name: 'Centipeetle', series: 'Steven Universe'},
'qvm1iog': {name: 'Buck Dewey', series: 'Steven Universe'},
'pJU4ag6': {name: 'Cat Steven', series: 'Steven Universe'},
'hHZqOtt': {name: 'Blue Zircon', series: 'Steven Universe'},
'dwu65DX': {name: 'Connie Maheswaran', series: 'Steven Universe'},
'7oqI7sh': {name: 'Steven Universe', series: 'Steven Universe'},
'nhv2GJb': {name: 'Garnet', series: 'Steven Universe'},
'PDKP9Ou': {name: 'Greg Universe', series: 'Steven Universe'},
'5hsJlfZ': {name: 'Holly Blue Agate', series: 'Steven Universe'},
'mwoacYu': {name: 'Jasper', series: 'Steven Universe'},
'PZI48Dp': {name: 'Lapis Lazuli', series: 'Steven Universe'},
'42K2xxT': {name: 'Lion', series: 'Steven Universe'},
'Y7rjmHI': {name: 'Jumbo', series: 'Killer Klowns From Outer Space'},
'9S2oS3R': {name: 'Fatso', series: 'Killer Klowns From Outer Space'},
'PVaLNg7': {name: 'Shorty', series: 'Killer Klowns From Outer Space'},
'mwLGbvM': {name: 'Rudy', series: 'Killer Klowns From Outer Space'},
'SDUhJZP': {name: 'Spikey', series: 'Killer Klowns From Outer Space'},
'5NwRpZ7': {name: 'Slim', series: 'Killer Klowns From Outer Space'},
'POjG953': {name: 'Bibbo', series: 'Killer Klowns From Outer Space'},
'SESdN5I': {name: 'Chubby', series: 'Killer Klowns From Outer Space'},
'JXiPuz7': {name: 'The Boss', series: 'Metal Gear'},
'Shib5sK': {name: 'The Boss (Shinkawa)', series: 'Metal Gear Special'},
'R8V7Oc1': {name: 'Solid Snake', series: 'Metal Gear'},
'6iIlMgK': {name: 'Solid Snake (Shinkawa)', series: 'Metal Gear Special'},
'ov2HKXo': {name: 'Jetstream Sam', series: 'Metal Gear'},
'ZU0jc1A': {name: 'Raiden', series: 'Metal Gear'},
'qzxwpi8': {name: 'Raiden (Shinkawa)', series: 'Metal Gear Special'},
'nfL3ZVs': {name: 'Solidus Snake', series: 'Metal Gear'},
'rKbQJHm': {name: 'Solidus Snake (Shinkawa)', series: 'Metal Gear Special'},
'gLfu50w': {name: 'Naked Snake', series: 'Metal Gear'},
'OvjkLHb': {name: 'Old Snake', series: 'Metal Gear'},
'4ptmhzO': {name: 'Naked Snake (Shinkawa)', series: 'Metal Gear Special'},
'CaHAomG': {name: 'Old Snake (Shinkawa)', series: 'Metal Gear Special'},
'Yrmu26K': {name: 'Gengetsu', series: 'Touhou Project'},
'cQ09mHv': {name: 'Eirin Yagokoro', series: 'Touhou Project'},
'gYPosa3': {name: 'Alice (PC-98)', series: 'Touhou Project'},
'66GNADS': {name: 'Alice Margatroid', series: 'Touhou Project'},
'AccvBhb': {name: 'Aunn Komano', series: 'Touhou Project'},
'vxjVB8p': {name: 'Chen', series: 'Touhou Project'},
'fB63nuT': {name: 'Chimata Tenkyuu', series: 'Touhou Project'},
'KIYXF2C': {name: 'Tanya Degurechaff', series: 'Youjo Senki'},
'NAOYHmw': {name: 'Being X', series: 'Youjo Senki'},
'QWIN8h7': {name: 'Erich von Rerugen', series: 'Youjo Senki'},
'lXbtjQ7': {name: 'Jojo the Klownzilla', series: 'Killer Klowns From Outer Space'},
'UGshubd': {name: 'Kurt von Rudersdorf', series: 'Youjo Senki'},
'9JTFO5w': {name: 'Mary Sioux', series: 'Youjo Senki'},
'hJ7U1fm': {name: 'Matheus Johan Weiss', series: 'Youjo Senki'},
'HpXVYpB': {name: 'Anna Nishikinomiya', series: 'Shimoneta'},
'dflq43V': {name: 'Annie Brown', series: 'Shimoneta'},
'TsRv1Ul': {name: 'Ayame Kajou', series: 'Shimoneta'},
'zwDjjkf': {name: 'Amelia Pond (Amy Pond)', series: 'Doctor Who'},
'w2D8ABM': {name: 'Clara Oswald', series: 'Doctor Who'},
'VN3z6Nz': {name: 'Dalek Caan', series: 'Doctor Who'},
'IhUXkZA': {name: 'Dalek Sec', series: 'Doctor Who'},
'I7fvLKT': {name: 'Davros', series: 'Doctor Who'},
'4LxIiXL': {name: 'Donna Noble', series: 'Doctor Who'},
'i6NewlC': {name: 'Bok', series: 'Doctor Who'},
'zJ4u839': {name: 'Jack Harkness', series: 'Doctor Who'},
'353i8YL': {name: 'K9', series: 'Doctor Who'},
'GMltz9g': {name: 'Martha Jones', series: 'Doctor Who'},
'OMhrksG': {name: 'Mickey Smith', series: 'Doctor Who'},
'rmo5xE9': {name: 'Rose Tyler', series: 'Doctor Who'},
'Acj8Ozs': {name: 'David Tennant (Tenth Doctor)', series: 'Doctor Who'},
'vZphYze': {name: 'River Song', series: 'Doctor Who'},
'Quy1pBo': {name: 'Matt Smith (Eleventh Doctor)', series: 'Doctor Who'},
'63oiNtc': {name: 'Tanukichi Okuma', series: 'Shimoneta'},
'Q2g8EJT': {name: 'Peter Capaldi', series: 'Doctor Who'},
'w7nYEEl': {name: 'Raiki Gouriki', series: 'Shimoneta'},
'vaLQMyX': {name: 'Binkan-chan', series: 'Shimoneta'},
'pZX4a9A': {name: 'Hyouka Fuwa', series: 'Shimoneta'},
'a2IdwF3': {name: 'Kosuri Onigashira', series: 'Shimoneta'},
'YF7msbV': {name: 'Oboro Tsukimigusa', series: 'Shimoneta'},
'wiuO3Tb': {name: 'Otome Saotome', series: 'Shimoneta'},
'lPaXi9f': {name: 'Sophia Nishikinomiya', series: 'Shimoneta'},
'z2BqoXv': {name: 'Mr. six', series: 'Six Flags Theme Parks'},
'2MxyISD': {name: 'Isaac (TO)', series: 'The Orville'},
'hqrYQxB': {name: 'Alara Kitan', series: 'The Orville'},
'2XJiaM0': {name: 'Bortus', series: 'The Orville'},
'6Wqw9xk': {name: 'Claire Finn', series: 'The Orville'},
'sC4HaOJ': {name: 'Ed Mercer', series: 'The Orville'},
'ZukKSdC': {name: 'Pepsi Man', series: 'Pepsi'},
'VsuTvX7': {name: 'Chowder (MH)', series: 'Monster House'},
'J3YTzkT': {name: 'DJ Walters', series: 'Monster House'},
'j8vtKHu': {name: 'House (Constance Nebbercracker)', series: 'Monster House'},
'Tj6APh3': {name: 'Nebbercracker', series: 'Monster House'},
'l6ZLeAN': {name: 'Constance Nebbercracker', series: 'Monster House'},
'EkSyRQC': {name: 'Bones', series: 'Monster House'},
'fBeK4wC': {name: 'Zee', series: 'Monster House'},
'FOiRywV': {name: 'Jenny (MH)', series: 'Monster House'},
'4qluF5E': {name: 'Reginald Skulinski (Skull)', series: 'Monster House'},
'Irv6jlv': {name: 'Officer Landers', series: 'Monster House'},
'O6Gb7ff': {name: 'Officer Lister', series: 'Monster House'},
'c0C7fsd': {name: 'Appa', series: 'Avatar: The Last Airbender'},
'A0NQqTZ': {name: 'Aunt Wu', series: 'Avatar: The Last Airbender'},
'rqs2hYN': {name: 'Earth King Kuei', series: 'Avatar: The Last Airbender'},
'boPjaF6': {name: 'Sayori', series: 'Doki-Doki Literature Club!'},
'bmfABBp': {name: 'Pink Mushi (.pet)', series: 'Misa Casino'},
'qCxhqmB': {name: 'Red Mushi (.pet)', series: 'Misa Casino'},
'UrE81xZ': {name: 'Green Mushi (.pet)', series: 'Misa Casino'},
'pUDoa1R': {name: 'Purple Mushi (.pet)', series: 'Misa Casino'},
'sK9zfSC': {name: 'Yellow Mushi (.pet)', series: 'Misa Casino'},
'PQJ53I3': {name: 'Sulley Mushi (.pet)', series: 'Misa Casino'},
'Sxcd2Dk': {name: 'Yuri', series: 'Doki-Doki Literature Club!'},
'S7AvWrX': {name: 'Natsuki', series: 'Doki-Doki Literature Club!'},
'pF6nhPh': {name: 'Monika', series: 'Doki-Doki Literature Club!'},
'DtxCVrZ': {name: 'Alfred Pennyworth', series: 'DC Comics'},
'TC74jlU': {name: 'Aquaman (Arthur Curry)', series: 'DC Comics'},
'RsHxi2R': {name: 'Aqualad (Garth)', series: 'DC Comics'},
'TX6aFyn': {name: 'Bane', series: 'DC Comics'},
'Rft4XTz': {name: 'Batgirl (Barbara Gordon)', series: 'DC Comics'},
'r3mIE5u': {name: 'Batman (Bruce Wayne)', series: 'DC Comics'},
'80KluVZ': {name: 'Batman (Thomas Wayne)', series: 'DC Comics'},
'GiF0YW3': {name: 'Chihuahua Mascot', series: 'Taco Bell'},
'q9zSO7v': {name: 'Queen of England', series: 'Human History'},
'TchEflv': {name: 'Gollum', series: 'Lord of The Rings'},
'bW6b34S': {name: 'Gandalf', series: 'Lord of The Rings'},
'Fkh7sw7': {name: 'Flowey (Normal Form)', series: 'Undertale'},
'wMMp6yA': {name: 'Flowey (True Form)', series: 'Undertale'},
'O23Rjb4': {name: 'Alphys', series: 'Undertale'},
'fkLET6S': {name: 'Boromir', series: 'Lord of The Rings'},
'sVig6tN': {name: 'Asgore', series: 'Undertale'},
'bl3JzxV': {name: 'Catty ', series: 'Undertale'},
'9rwLD6j': {name: 'Doggo', series: 'Undertale'},
'fOReNpI': {name: 'Frisk', series: 'Undertale'},
'oQcN7bp': {name: 'Sans', series: 'Undertale'},
'weTkvaQ': {name: 'Papyrus', series: 'Undertale'},
'CSRad6T': {name: 'Mettaton 1', series: 'Undertale'},
'mm15BKS': {name: 'Mettaton EX', series: 'Undertale'},
'DouICP9': {name: 'Undyne', series: 'Undertale'},
'3fWb1fG': {name: 'Muffet', series: 'Undertale'},
'LHQMZOk': {name: 'Napstablook', series: 'Undertale'},
'cPWr9gf': {name: 'Donald Trump', series: 'Human History'},
'6WjIW6u': {name: 'Joe Biden', series: 'Human History'},
'eAtovCM': {name: 'Barrack Obama (OBAMNA)', series: 'Human History'},
'mVYDyCz': {name: 'Hillary Clinton', series: 'Human History'},
'ktXzAwu': {name: 'Jeff Bezos', series: 'Human History'},
'aYIzfdl': {name: 'George Washington', series: 'Human History'},
'otaJ36W': {name: 'Mad Dummy', series: 'Undertale'},
'nZLqJTz': {name: 'Monster Kid', series: 'Undertale'},
'kV7Xwxm': {name: 'Toriel', series: 'Undertale'},
'W5N5os5': {name: 'Temmie', series: 'Undertale'},
'orAlVYp': {name: 'Burgerpants', series: 'Undertale'},
'U72jTW2': {name: 'W. D. Gaster', series: 'Undertale'},
'SfQNqFq': {name: 'So Sorry', series: 'Undertale'},
'mHkAdgf': {name: 'Princess Peach', series: 'Super Mario'},
'UgUy7hT': {name: 'Rosalina', series: 'Super Mario'},
'F2FMeZh': {name: 'Chappie', series: 'Chappie'},
'rd04yuH': {name: 'GLaDOS', series: 'Portal'},
'PdxyPjr': {name: 'Yolandi', series: 'Chappie'},
'gJHRl0V': {name: 'GIR (Normal)', series: 'Invader Zim'},
'EILmOzA': {name: 'GIR (Incognito)', series: 'Invader Zim'},
'3SAUWTw': {name: 'Dib', series: 'Invader Zim'},
'6GdNfsw': {name: 'Poop Dawg', series: 'Invader Zim'},
'pntRWJw': {name: 'Invader Zim', series: 'Invader Zim'},
'dYdQ99K': {name: 'Zim (Incognito)', series: 'Invader Zim'},
'uKXEqst': {name: 'Tallest Red', series: 'Invader Zim'},
'0DhBwKJ': {name: 'Tallest Purple', series: 'Invader Zim'},
'igRjRj8': {name: 'Roz', series: 'Monsters Inc.'},
'8e3si3B': {name: 'Sulley', series: 'Monsters Inc.'},
'okAUe1d': {name: 'Randall Boggs', series: 'Monsters Inc.'},
'8pxaoEw': {name: 'Mike Wazowski', series: 'Monsters Inc.'},
'v3Ez8FM': {name: 'Henry J. Waternoose', series: 'Monsters Inc.'},
'3GCzsP3': {name: 'Rhea Ripley', series: 'WWE Wrestling'},
'R313NKv': {name: 'Celia Mae', series: 'Monsters Inc.'},
'dXZdEcN': {name: 'Boo', series: 'Monsters Inc.'},
'ykmuMo9': {name: 'Abominable Snowman', series: 'Monsters Inc.'},
'6pSMN5d': {name: 'Donkey', series: 'Shrek'},
'3FCUyxW': {name: 'Dragon', series: 'Shrek'},
'bSpLT8m': {name: 'Fairy Godmother', series: 'Shrek'},
'QUBeeMc': {name: 'Fiona (Ogre form)', series: 'Shrek'},
'IEjvKum': {name: 'Fiona (Human form)', series: 'Shrek'},
'JDzrEkO': {name: 'Lord Farquaad', series: 'Shrek'},
'XKM40kh': {name: 'Nick Jackson', series: 'AEW Wrestling'},
'Cn8qW1Y': {name: 'Matt Jackson', series: 'AEW Wrestling'},
'0Jz7QYZ': {name: 'Kenny Omega', series: 'AEW Wrestling'},
'Z46sYQN': {name: 'Hangman Adam Page', series: 'AEW Wrestling'},
'DwMmrkA': {name: 'Jon Moxley', series: 'AEW Wrestling'},
'cFYbS4l': {name: 'Bryan Danielson', series: 'AEW Wrestling'},
'jY2pgzf': {name: 'Claudio Castagnoli', series: 'AEW Wrestling'},
'q66ktw1': {name: 'Wheeler Yuta', series: 'AEW Wrestling'},
'ZY4Ma6O': {name: 'CM Punk', series: 'AEW Wrestling'},
'afHIhvv': {name: 'Santa Claus', series: 'North American Mythology'},
'mUyUZOZ': {name: 'Osiris', series: 'Egyptian Mythology'},
'WxB7Oor': {name: 'Zeus', series: 'Greek Mythology'},
'4CwL8Ik': {name: 'Jupiter', series: 'Roman Mythology'},
'6y7lVgD': {name: 'Thor (Norse god)', series: 'Nordic Mythology'},
'fqQuErO': {name: 'Odin (Norse god)', series: 'Nordic Mythology'},
'f8BpRAx': {name: 'Shrek', series: 'Shrek'},
'zUzs03y': {name: 'Dani Phantom', series: 'Danny Phantom'},
'qrAOXUZ': {name: 'Dark Danny', series: 'Danny Phantom'},
'5OJTlOW': {name: 'Desiree (Human Form)', series: 'Danny Phantom'},
'pJL01L0': {name: 'Phantom Desiree', series: 'Danny Phantom'},
'QtPt9Fm': {name: 'Ember McLain', series: 'Danny Phantom'},
'hGMFo2v': {name: 'Fright Knight', series: 'Danny Phantom'},
'EAHuizK': {name: 'Ghost Writer', series: 'Danny Phantom'},
'nj6xYN7': {name: 'Jazz Fenton (Jasmine Fenton)', series: 'Danny Phantom'},
'9aq4ixq': {name: 'Jack Fenton', series: 'Danny Phantom'},
'yNqTDew': {name: 'Kitty (Danny Phantom)', series: 'Danny Phantom'},
'GB3JRGk': {name: 'Akeno Himejima', series: 'High School DXD'},
'ajilLsa': {name: 'Rias Gremory', series: 'High School DXD'},
'mfGoaYa': {name: 'Maddie Fenton', series: 'Danny Phantom'},
'zUQMzov': {name: 'Penelope Spectra ', series: 'Danny Phantom'},
'TiGD06p': {name: 'Frodo Baggins', series: 'Lord of The Rings'},
'kPrgwxX': {name: 'Faramir', series: 'Lord of The Rings'},
'csnnR1x': {name: 'Aragorn', series: 'Lord of The Rings'},
'HNIipSq': {name: 'Captain Jack Sparrow', series: 'Pirates of The Caribean'},
'PM3wYbh': {name: 'Arwen', series: 'Lord of The Rings'},
'Mp1Ci71': {name: 'Bill the Pony', series: 'Lord of The Rings'},
'gWoau6x': {name: 'Anakin Skywalker', series: 'Star Wars'},
'r4a0Oxa': {name: 'BB-8', series: 'Star Wars'},
'HZoW1Tc': {name: 'Ben Skywalker', series: 'Star Wars'},
'hPLiL6L': {name: 'Bendu', series: 'Star Wars'},
'c7ht1ea': {name: 'Boba Fett', series: 'Star Wars'},
'FTpj6at': {name: 'Darth Vader', series: 'Star Wars'},
'uBsSZqd': {name: 'Darth Maul', series: 'Star Wars'},
'55pJHnj': {name: 'Emperor Palpatine', series: 'Star Wars'},
'SEYj3ca': {name: 'Mace Windu', series: 'Star Wars'},
'UQP4e8I': {name: 'Yoda', series: 'Star Wars'},
'l0k0sxf': {name: 'Obi-Wan Kenobi', series: 'Star Wars'},
'o1KlVux': {name: 'Akitaru Oubi', series: 'Fire Force (Enen no Shouboutai)'},
'pd7lmCr': {name: 'Amaterasu', series: 'Fire Force (Enen no Shouboutai)'},
'9XN9YH8': {name: 'Arrow (Fire Force)', series: 'Fire Force (Enen no Shouboutai)'},
'HfsnUFW': {name: 'Arthur Boyle', series: 'Fire Force (Enen no Shouboutai)'},
'sUjYHea': {name: 'Asako Hague', series: 'Fire Force (Enen no Shouboutai)'},
'eolj4Jv': {name: 'Conehead', series: 'Fire Force (Enen no Shouboutai)'},
'O8E2o6z': {name: 'Benimaru Shinmon', series: 'Fire Force (Enen no Shouboutai)'},
'j8VdkJA': {name: 'Astarion', series: 'Baldur\'s Gate 3'},
'FESreG8': {name: 'Cazador Szarr', series: 'Baldur\'s Gate 3'},
'awvI6fN': {name: 'Gale', series: 'Baldur\'s Gate 3'},
'UD9otth': {name: 'General Ketheric Thorm', series: 'Baldur\'s Gate 3'},
'54u2LQW': {name: 'Halsin', series: 'Baldur\'s Gate 3'},
'uq68Cqq': {name: 'Isobel', series: 'Baldur\'s Gate 3'},
'QdqBpYf': {name: 'Karlach', series: 'Baldur\'s Gate 3'},
'ej9YNzU': {name: 'Lae\'zel', series: 'Baldur\'s Gate 3'},
'tBg8VQ9': {name: 'Dame Aylin', series: 'Baldur\'s Gate 3'},
'MVkig3y': {name: 'Enver Gortash', series: 'Baldur\'s Gate 3'},
'wX3Qq0n': {name: 'Minthara', series: 'Baldur\'s Gate 3'},
'1qhQ6EO': {name: 'Orin the Red', series: 'Baldur\'s Gate 3'},
'nw0CHkp': {name: 'Raphael (BG3)', series: 'Baldur\'s Gate 3'},
'ZsCNKyA': {name: 'Raphael (True Form)', series: 'Baldur\'s Gate 3'},
'zjN2zTt': {name: 'Sceleritas Fel', series: 'Baldur\'s Gate 3'},
'FrNCzov': {name: 'Scratch (BG3)', series: 'Baldur\'s Gate 3'},
'o2Yku3o': {name: 'Shadowheart', series: 'Baldur\'s Gate 3'},
'6OL0iew': {name: 'Withers', series: 'Baldur\'s Gate 3'},
'tNXYskA': {name: 'Wyll', series: 'Baldur\'s Gate 3'},
'EhoIXCD': {name: 'The Emperor', series: 'Baldur\'s Gate 3'},
'VHh3OFn': {name: 'Shadow Weaver', series: 'She-Ra & the Princesses of Power'},
'fC4uJvr': {name: 'Young King Micah', series: 'She-Ra & the Princesses of Power'}
};

    function toggleMenu() {
        const navMenu = document.querySelector('.nav-menu');
        navMenu.classList.toggle('active');
    }
async function sendMessage() {
    var chatArea = document.getElementById('chatArea');
    var userInput = document.getElementById('userInput');
    var messageText = userInput.value;
    userInput.value = '';  // clear the input box
    if (messageText.trim() !== '') {  // don't send empty messages
        var userMessageElement = document.createElement('div');
        userMessageElement.classList.add('chat-message', 'user-message');
        userMessageElement.textContent = messageText;
        chatArea.appendChild(userMessageElement);

        // Simulate a bot response
        setTimeout(async function() {  // Keep this function async
            var botResponse = await getBotResponse(messageText);  // Use await here
            
            var botMessageElement = document.createElement('div');
            botMessageElement.classList.add('chat-message', 'bot-message');
            
            if (messageText.toLowerCase().includes('/check ') && typeof botResponse === 'string' && botResponse.startsWith('http')) {
                // Create an image element if it's the /check test command
                var imgElement = document.createElement('img');
                imgElement.src = botResponse;
                botMessageElement.appendChild(imgElement);
            } else {
                // Otherwise just set the textContent
                botMessageElement.innerHTML = botResponse;
            }

            chatArea.appendChild(botMessageElement);
            chatArea.scrollTop = chatArea.scrollHeight;  // scroll to the bottom
        }, 1000);  // wait 1 second before showing bot response
    }
}

    
function getAccessToken(authorizationCode) {
    const params = new URLSearchParams();
    params.append('client_id', '584160547272917015');
    // Your client secret should be kept secure
    params.append('client_secret', 'OwPRhZar_n2XfYez2Vfg5BuEnu9gqFUd');
    params.append('grant_type', 'authorization_code');
    params.append('code', authorizationCode);
    params.append('redirect_uri', 'https://luckyaura.github.io/MisaCasino/chat.html');

    return fetch('https://discord.com/api/v8/oauth2/token', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: params
    })
    .then(response => response.json())
    .then(data => data.access_token);
}

function getDiscordUser(accessToken) {
    return fetch('https://discord.com/api/v8/users/@me', {
        headers: {
            'Authorization': `Bearer ${accessToken}`
        }
    })
    .then(response => response.json());
}

const urlParams = new URLSearchParams(window.location.search);
const authorizationCode = urlParams.get('code');

let userId;
let username;

getAccessToken(authorizationCode)
.then(accessToken => getDiscordUser(accessToken))
.then(user => {
    userId = user.id;
    username = user.username;
});


async function fetchUserData(userId) {
    // URLs of your JSON files on GitHub
    const xpUrl = 'https://raw.githubusercontent.com/LuckyAura/MisaCasino/main/xp.json';
    const wordsUrl = 'https://raw.githubusercontent.com/LuckyAura/MisaCasino/main/words.json';

    try {
        // Fetch the JSON data from GitHub
        const xpResponse = await fetch(xpUrl);
        const wordsResponse = await fetch(wordsUrl);

        // Check for a valid response
        if (!xpResponse.ok || !wordsResponse.ok) {
            throw new Error(`Failed to fetch data: ${xpResponse.statusText}, ${wordsResponse.statusText}`);
        }

        const xpData = await xpResponse.json();
        const wordsData = await wordsResponse.json();

        // Find the user's data based on their Discord ID
        const userXpData = xpData[userId];
        const userWordsData = wordsData[userId];

        if (!userXpData || !userWordsData) {
            throw new Error(`User data not found for user ID: ${userId}`);
        }

        // Update these lines to match the structure of your JSON files
        const balance = userWordsData.message;  // Adjusted to userWordsData.message
        const level = userXpData.level;  // Assuming level is the correct key in xp.json

        return { balance: balance, level: level };
    } catch (error) {
        console.error('Error fetching user data:', error.message);
        return { balance: 'Error', level: 'Error' }; 
    }
}



async function getBotResponse(messageText) {
        // Check if user is logged in
        if (!userId) {
            return 'Please login to Discord before trying me out!';
        }

        var lowerCaseText = messageText.toLowerCase();
        if (lowerCaseText.includes('hello') || lowerCaseText.includes('hi') || lowerCaseText.includes('sup') || lowerCaseText.includes('greetings')) {
            return 'Hiii ^-^ I\'m Misa! I\'m the owner of this casino and I can\'t wait to foster your new gambling addictions ðŸ’œ This version of me mainly serves as a tutorial bot. I demo a couple of common functions, and do a couple of other fun things. You can use "/help" to see what else you can do with me.';
        } else if (lowerCaseText.includes('how are you') || lowerCaseText.includes('hru') || lowerCaseText.includes('are you okay')) {
            return 'Oh how thoughtful & sweet xD I\'m happy as long as I get to take your tokens.';
        } else if (lowerCaseText.includes('/help')) {
            return 'Here is a list of commands & talking points!<br>- Try saying hi to me!<br>- Try asking how I\'m doing!<br>- /build (coming soon)<br>- /profile';
        } else if (lowerCaseText.includes('/profile')) {
    // Await the result of fetchUserData and return it
    const userData = await fetchUserData(userId);
    const roundedBalance = Math.round(userData.balance);
    const responseMessage = `${username}'s balance is: ${roundedBalance} <br> and <br> ${username}'s level is: ${userData.level}`;
    return responseMessage;
} else if (lowerCaseText.startsWith('/check ')) {
        // Extract the character name from the message text
        var characterName = messageText.substring(7).trim().toLowerCase();  // Remove '/check ' from the message text

        // Find the character in cardSetDict
var characterCode = Object.keys(cardSetDict).find(code => cardSetDict[code].name.toLowerCase().includes(characterName));

        
        // If character is found, return the image URL, otherwise return an error message
        if (characterCode) {
            return `https://i.imgur.com/${characterCode}.png`;
        } else {
            return 'Sorry, I couldn\'t find that character. Please try again!';
        }
    } // Start a new game
    if (lowerCaseText.includes('/guess')) {
        // Select a random character from cardSetDict
        var characterCodes = Object.keys(cardSetDict);
        var randomCharacterCode = characterCodes[Math.floor(Math.random() * characterCodes.length)];
        var randomCharacter = cardSetDict[randomCharacterCode];
        
        // Store the game state for this user
        ongoingGames[userId] = {
            character: randomCharacter.name.toLowerCase(),
            startTime: new Date(),
            guessCount: 0
        };
        
        // Return the image URL of the random character
        return `https://i.imgur.com/${randomCharacterCode}.png`;
    }
    
    // Process a guess
    if (lowerCaseText.startsWith('/guess ')) {
        // Ensure a game is ongoing
        var game = ongoingGames[userId];
        if (!game) {
            return 'No ongoing game. Start a new game with /guess.';
        }
        
        // Update the guess count
        game.guessCount++;
        
        // Check the user's guess
        var userGuess = lowerCaseText.split(' ')[1];  // Assuming the guess is one word
        if (userGuess && game.character.includes(userGuess)) {
            var elapsedTime = ((new Date()) - game.startTime) / 1000;  // Time in seconds
            // Optionally, store the point for the user
            // ...
            // End the game for this user
            delete ongoingGames[userId];
            return `Congratulations! You guessed it in ${game.guessCount} guesses and ${elapsedTime.toFixed(2)} seconds.`;
        } else {
            return 'Incorrect guess. Try again!';
        }
    } 
 else {
            return 'Sorry, I\'m still under development. Do /help for a list of usable commands on this version of Misa!';
        }
    }
    window.addEventListener('error', function (e) {
        console.log('Error:', e.message, 'at line', e.lineno, 'in', e.filename);
    });

</script>
</head>
<body>
    
    <div class="background-image"></div>
    <div class="hamburger-menu" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <nav class="nav-menu">
        <ul>
            <li><a href="main.html">Home</a></li>
            <li><a href="aboutMisa.html">About Bot</a></li>
            <li><a href="Commands.html">Commands</a></li>
            <li><a href="chat.html">Misa Casino Demo</a></li>
        </ul>
    </nav>
    <div class="container">
        <img src="https://i.imgur.com/fgpVeNU.png" alt="Bot Image" class="bot-image">
        <a href="https://discord.com/api/oauth2/authorize?client_id=584160547272917015&redirect_uri=https://luckyaura.github.io/MisaCasino/chat.html&response_type=code&scope=identify%20email" class="discord-button">
    <i class="fab fa-discord"></i> Login with Discord
</a>
        
    </div>
    <div class="chat-container">
        <div class="chat-area" id="chatArea"></div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Talk to Misa!">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
</body>
</html>
